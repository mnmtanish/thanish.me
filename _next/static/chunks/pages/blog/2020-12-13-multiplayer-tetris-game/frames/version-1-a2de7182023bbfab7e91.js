_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{Qetd:function(t,e,r){"use strict";var o=Object.assign.bind(Object);t.exports=o,t.exports.default=t.exports},"bZ/r":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return u}));var o=r("nKUr"),n=r("q1tI"),c=[[[1,1],[1,1]],[[1,0,0],[1,1,1]],[[0,1,0],[1,1,1]]],l={moveLeft:function(t){t.x--},moveRight:function(t){t.x++}},a=function(t,e,r){for(var o=["#6fa8dc","#f6b26b"],n=t.length,l=[],a=[],f=function(){e(l)},i=function(t){var e=Math.floor(Math.random()*c.length),a={x:0,y:0,type:c[e],color:"#111"};a.x=Math.floor(r.worldWidth/n/2*(2*t+1)),a.color=o[t%o.length],l[t].unshift(a),f()},u=0;u<n;++u)l[u]=[],i(u);for(var d=function(e){var r=t[e];a[e]=function(t,e){var r=function(r){for(var o=0,n=Object.keys(t);o<n.length;o++){var c=n[o];if(r.code===c){e(t[c]);break}}};return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}(r,(function(t){return function(t,e){e(l[t][0]),f()}(e,t)}))},w=0;w<n;++w)d(w);return function(){a.forEach((function(t){return t()}))}},f=[{KeyA:l.moveLeft,KeyD:l.moveRight},{ArrowLeft:l.moveLeft,ArrowRight:l.moveRight}],i={worldWidth:32,worldHeight:24,worldScale:25};function u(){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(t){var e=function(t,e){var r=e.worldWidth*e.worldScale,o=e.worldHeight*e.worldScale;t.width=r,t.height=o;var n=t.getContext("2d"),c=function(t){n.save(),n.translate(t.x*e.worldScale,t.y*e.worldScale);for(var r=0;r<t.type.length;++r)for(var o=t.type[r],c=0;c<o.length;++c)o[c]&&(l=c,a=r,f=t.color,n.fillStyle=f,n.strokeStyle="#000",n.fillRect(l*e.worldScale,a*e.worldScale,e.worldScale,e.worldScale),n.strokeRect(l*e.worldScale,a*e.worldScale,e.worldScale,e.worldScale));var l,a,f;n.restore()};return function(t){n.clearRect(0,0,r,o);for(var e=0;e<t.length;++e)for(var l=t[e],a=0;a<l.length;++a)c(l[a])}}(t.current,i);a(f,e,i)}}),[t]),Object(o.jsx)("canvas",{ref:t,style:{position:"absolute",top:0,left:0,background:"#fafafa"}})}},qAxI:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/2020-12-13-multiplayer-tetris-game/frames/version-1",function(){return r("bZ/r")}])}},[["qAxI",0,1]]]);