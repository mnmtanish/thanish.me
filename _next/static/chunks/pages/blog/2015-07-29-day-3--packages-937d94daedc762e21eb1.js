_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{ELCk:function(e,t,a){"use strict";a.r(t),a.d(t,"meta",(function(){return s})),a.d(t,"default",(function(){return h}));var n=a("rePB"),o=a("Ff2n"),i=(a("q1tI"),a("7ljp")),r=a("hOk3");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={title:"Day 3: Packages",description:"All go packages except packages from the standard library are placed inside the $GOPATH. A package consists of a set of go files in a directory. All go files should have \u201cpackage mypackage\u201d line before other code. There can be only one package per directory. Although it\u2019s not required It\u2019s expected that the directory name and the package name to be equal.",intro:Object(i.a)("section",null,Object(i.a)("p",null,"All go packages except packages from the standard library are placed inside the $GOPATH. A package consists of a set of go files in a directory. All go files should have \u201cpackage mypackage\u201d line before other code. There can be only one package per directory. Although it\u2019s not required It\u2019s expected that the directory name and the package name to be equal.")),date:"2015-07-29",tags:["go"]},p={meta:s},g=Object(r.a)({meta:s});function h(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(i.a)(g,c(c(c({},p),a),{},{components:t,mdxType:"MDXLayout"}),Object(i.a)("p",null,"All go packages except packages from the standard library are placed inside the $GOPATH. A package consists of a set of go files in a directory. All go files should have \u201cpackage mypackage\u201d line before other code. There can be only one package per directory. Although it\u2019s not required It\u2019s expected that the directory name and the package name to be equal."),Object(i.a)("p",null,"By default Go provides a very large standard library. It consists of many kinds of packages including packages for formatting, logging, Operating System and filesystem operations, http/network request handling and JSON encoding/decoding. In previous examples we used the ",Object(i.a)("strong",{parentName:"p"},"fmt")," package to print different data types to STDOUT. More packages will be used in future tutorials. The ",Object(i.a)("a",c({parentName:"p"},{href:"https://golang.org/pkg/"}),"packages page")," in golang website explains these packages in detail."),Object(i.a)("h2",null,"The $GOPATH"),Object(i.a)("p",null,"$GOPATH is a directory in your computer. The $GOPATH environment variable should be set to a directory and all your Go code should be placed inside it. There should be three directories inside the $GOPATH."),Object(i.a)("h3",null,"bin"),Object(i.a)("p",null,"When a \u201cmain\u201d package is compiled, it creates an executable with the directory name as executable name. All built executables will be placed here."),Object(i.a)("h3",null,"lib"),Object(i.a)("p",null,"All non-main packages create non-executable libraries which will be placed here. This speeds up Go compile time significantly."),Object(i.a)("h3",null,"src"),Object(i.a)("p",null,"All source files (.go files) should be placed here. This is the only directory most developers have to work with."),Object(i.a)("p",null,Object(i.a)("strong",{parentName:"p"},"In order to continue this and future tutorials a new directory should be made and the $GOPATH environment variable should point to it.")),Object(i.a)("h2",null,"Using Packages"),Object(i.a)("p",null,"The hello world example can be written where a package named ",Object(i.a)("strong",{parentName:"p"},"hello")," is used to print the message. Code for the hello package should be placed inside $GOPATH/src/myname/hello/hello.go file."),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),'package hello\n\nfunc Print () {\n    println("Hello World")\n}\n')),Object(i.a)("p",null,"The hello package can be used to create an executable called say-hello. Code for the ",Object(i.a)("strong",{parentName:"p"},"say-hello")," main package should be placed inside $GOPATH/src/myname/say-hello/main.go file. The import path for the package is the relative path to the package directory from $GOPATH/src directory."),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),'package hello\n\nfunc Print () {\n    println("Hello World")\n}\n')),Object(i.a)("p",null,"Go packages can be written using multiple files. Code written in multiple files work as if they\u2019re written in a single file. Above hello package can be changed to use 2 files. In this example, the greeting constant created inside strings.go file is used inside hello.go file without problems."),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),'package hello\n\nconst greeting = "Hello World"\n')),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),"package hello\n\nfunc Print () {\n  println(greeting)\n}\n")),Object(i.a)("h3",null,"Exporting"),Object(i.a)("p",null,"An important fact is that constants, variables and functions starting with a capital letter will be exposed to other packages. Those starting with a simple letter can be used only from inside the package."),Object(i.a)("p",null,"The ",Object(i.a)("strong",{parentName:"p"},"greeting")," constant cannot be accessed form outside the package. If it were to be renamed as ",Object(i.a)("strong",{parentName:"p"},"Greeting"),", it would be possible to access it with ",Object(i.a)("strong",{parentName:"p"},"hello.Greeting")," after importing the ",Object(i.a)("strong",{parentName:"p"},"hello")," package."),Object(i.a)("p",null,"The same way, if ",Object(i.a)("strong",{parentName:"p"},"Print")," were to be renamed as ",Object(i.a)("strong",{parentName:"p"},"print")," it would be impossible to access it from outside the package."),Object(i.a)("h3",null,"Bootstrapping"),Object(i.a)("p",null,"Packages may have an ",Object(i.a)("strong",{parentName:"p"},"init")," function which will be executed before the main function. In this example the ",Object(i.a)("strong",{parentName:"p"},"time")," package (std) is used to get the Hour.I know that this example is simply WRONG!. Its just an example okay, cool."),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),'package hello\n\nimport "time"\n\nvar greeting string\n\nfunc init() {\n    h := time.Now().Hour()\n\n    switch {\n    case h < 12:\n        greeting = "Good Morning"\n    case h < 18:\n        greeting = "Good Evening"\n    case h < 24:\n        greeting = "Good Night"\n    default:\n        greeting = "Good Lord!!!"\n    }\n}\n\n// Print prints a greeting to stdout\nfunc Print() {\n    println(greeting)\n}\n')),Object(i.a)("h2",null,"The \u201cmain\u201d\xa0Package"),Object(i.a)("p",null,"The main package is in most ways similar to any other package. It can be written in multiple files. The difference is that main packages create executables. When the executable is run, the ",Object(i.a)("strong",{parentName:"p"},"main")," function inside the ",Object(i.a)("strong",{parentName:"p"},"main")," package is executed. Another difference is that the directory name of the is named after the executable name instead of package name (main)."),Object(i.a)("pre",null,Object(i.a)("code",c({parentName:"pre"},{className:"language-go"}),'package main\n\nimport "myname/hello"\n\nfunc main () {\n    hello.Print()\n}\n')),Object(i.a)("h2",null,"What\u2019s Next"),Object(i.a)("p",null,"Go community packages are named after the place where they are hosted. The go get tool can download go packages from many sources the most popular being github. Therefore, most package imprts would look like \u201cgithub.com/my-username/my-reponame/mypkg\u201d."),Object(i.a)("p",null,"The Go community is still finding ways to maintain package versions. The best solution so far is vendoring (making a full copy of the package and using files from the copy from that time forward). A solution is expected to be finalized at Go version 1.6."),Object(i.a)("p",null,"After this tutorial, the next best thing to do is to check out the standard library and build applications using them."))}h.isMDXComponent=!0},Wdi5:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/2015-07-29-day-3--packages",function(){return a("ELCk")}])}},[["Wdi5",0,1,2]]]);