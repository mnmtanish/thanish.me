<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><title>Thanish.me - Using multiple GOPATHs</title><meta name="description" content="For an example, if we set the GOPATH environment variable to _/tmp/go1:/tmp/go2:/tmp/go3_ all three of them will act as GOPATHs."/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/e9e02a87a4c5bda8b576.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e9e02a87a4c5bda8b576.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-45110e586e5b9bc00f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.cdbdac0a36200f52203c.js" as="script"/><link rel="preload" href="/_next/static/chunks/afe4269f325c6b8604421e2a8f7bec7a7b2019c2.6c26eafa6145d614ef25.js" as="script"/><link rel="preload" href="/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.4a5474eceaa2247b7ab4.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-054f777325865917245d.js" as="script"/><link rel="preload" href="/_next/static/chunks/ec66151a9e4e24d8cdbbe349a286441475ff64c5.2f985208f1a91fdb0020.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/2016-01-18-using-multiple-gopaths-98a6bfd6466d69dad703.js" as="script"/></head><body><div id="__next"><main><content class="markdown-body"><article><header id="navbar"><a id="link-home" href="/"><img src="/logo-192.png" alt="Homepage" width="48px" height="48px"/></a></header><header><h1>Using multiple GOPATHs</h1><p class="post-meta"><small>Posted on <!-- -->2016-01-18</small></p><main><section><p>For an example, if we set the GOPATH environment variable to _/tmp/go1:/tmp/go2:/tmp/go3_ all three of them will act as GOPATHs.</p></section></main></header><main><p>For an example, if we set the GOPATH environment variable to <em>/tmp/go1:/tmp/go2:/tmp/go3</em> all three of them will act as GOPATHs.</p><pre><code>GOPATH=/tmp/go1:/tmp/go2:/tmp/go3
</code></pre><p>But this raises a few questions.</p><h2>How will this affect “go get”?</h2><p>To test this out, simply set the GOPATH, and try go getting a simple repository. You may run these commands if you like.</p><pre><code>GOPATH=/tmp/go1:/tmp/go2:/tmp/go3
go get github.com/deis/helloworld
find /tmp/ | grep helloworld | head -1
</code></pre><p>It will be clear that packages downloaded using the go get command will end up in /tmp/go1 or the first directory in the set of GOPATHs</p><h2>How will this affect imports?</h2><p>Go will look for packages in each of the paths given starting from the first. To test this out, I made this example repo and a script to run some tests. It’s easier to test and understand how it works by running the shell script in the repo. If we consider the above example GOPATH, Go will first look in <code>/tmp/go1</code> then <code>/tmp/go2</code> and finally <code>/tmp/go3</code> until it finds the package. Check this <a href="https://github.com/mnmtanish/test-multiple-gopaths">Github repository</a> for a demo.</p><hr/><p>So now that we can use multiple GOPATHs, is it useful? I personally think it would have been great if the import lookup order was in reverse order while maintaining current “go get” behaviour. If this happens, I can use 2 paths to separate actively developing projects and external dependencies.</p></main></article></content></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/2016-01-18-using-multiple-gopaths","query":{},"buildId":"cMZ193JEUBCd4etmp-2xq","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-4f07b0c20fc9b3d5aa59.js"></script><script src="/_next/static/chunks/main-45110e586e5b9bc00f35.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.cdbdac0a36200f52203c.js" async=""></script><script src="/_next/static/chunks/afe4269f325c6b8604421e2a8f7bec7a7b2019c2.6c26eafa6145d614ef25.js" async=""></script><script src="/_next/static/chunks/3ef630e34cd10ba68f9d468ac363ff81c534e1e9.4a5474eceaa2247b7ab4.js" async=""></script><script src="/_next/static/chunks/pages/_app-054f777325865917245d.js" async=""></script><script src="/_next/static/chunks/ec66151a9e4e24d8cdbbe349a286441475ff64c5.2f985208f1a91fdb0020.js" async=""></script><script src="/_next/static/chunks/pages/blog/2016-01-18-using-multiple-gopaths-98a6bfd6466d69dad703.js" async=""></script><script src="/_next/static/cMZ193JEUBCd4etmp-2xq/_buildManifest.js" async=""></script><script src="/_next/static/cMZ193JEUBCd4etmp-2xq/_ssgManifest.js" async=""></script></body></html>